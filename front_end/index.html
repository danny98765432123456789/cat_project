<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="https://pingendo.com/assets/bootstrap/bootstrap-4.0.0-beta.1.css" type="text/css">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script type="text/javascript" src="http://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <!-- <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
  <!-- <link href="http://pingendo.github.io/pingendo-bootstrap/themes/default/bootstrap.css" rel="stylesheet" type="text/css"> -->
  <link href="css/main.css" rel="stylesheet">
  <script type="text/javascript" src="jquery.js"></script>
  <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/lib/jquery.js"></script>
  <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
  <script>
    $(document).ready(function() {

        $("#button").click(function() {
          // alert("123");
          $.ajax({
            type: 'POST',
            url: 'http://localhost:3001/change',
            data: {
              change: "No"
            },
            success: function(data) {
              alert("Meow woo");
              $("#change").text("Change: " + result[result.length - 1].change);
            },
            contentType: "application/x-www-form-urlencoded",
            dataType: "Text"
          });
        })

        setInterval(function() {
          getByID();
          getByID2();
          getByID3();
          getByID4();
        }, 1000);


        function getByID() {
          // alert(device_id);
          $.ajax("http://localhost:3001/hum/", {
            type: 'GET',
            success: function(result) {
              // alert("123");
              // alert(result[result.length-1].hum);
              $("#hum").text("Humidity : " + result[result.length - 1].hum);
              if (result[result.length - 1].hum > 90) {
                $.ajax({
                  type: 'POST',
                  url: 'http://localhost:3001/change',
                  data: {
                    change: "Yes"
                  },
                  success: function(data) {
                    // alert(data);
                  },
                  contentType: "application/x-www-form-urlencoded",
                  dataType: "Text"
                });
              }
            }
          });
        }

        function getByID2() {
          // alert(device_id);
          $.ajax("http://localhost:3001/temp/", {
            type: 'GET',
            success: function(result) {

              // alert(result[result.length-1].hum);
              // $("#"  +real_time_humidity+ " > p").text("Humidity : " + result[result.length-1].hum);
              $("#temp").text("Temperature : " + result[result.length - 1].temp);
              // $("#"  + " > p").next().next().text("latitude : " + result.hum);
            }
          });
        }

        function getByID3() {
          // alert(device_id);
          $.ajax("http://localhost:3001/room/", {
            type: 'GET',
            success: function(result) {
              if (result[result.length - 1].room == undefined) {
                $("#home").text("At home: " + "Nope");
                $("#room").text("Room: " + result[result.length - 1].room);
              } else {
                $("#home").text("At home: " + "Yes");
                $("#room").text("Room: " + result[result.length - 1].room);
              }
            }
          });
        }

        function getByID4() {
          // alert(device_id);
          $.ajax("http://localhost:3001/change/", {
            type: 'GET',
            success: function(result) {

              // alert(result[result.length-1].hum);
              // $("#"  +real_time_humidity+ " > p").text("Humidity : " + result[result.length-1].hum);
              $("#change").text("Change : " + result[result.length - 1].change);
              // $("#"  + " > p").next().next().text("latitude : " + result.hum);
            }
          });
        }

    })
  </script>
</head>

<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="#"><i class="fa d-inline fa-lg fa-cloud"></i><b> IoT course project</b></a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbar2SupportedContent" aria-controls="navbar2SupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
      <div class="collapse navbar-collapse text-center justify-content-end" id="navbar2SupportedContent">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="http://www.ntu.edu.tw/english/"><i class="fa d-inline fa-lg fa-bookmark-o"></i> NTU</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="http://nxg.ee.ntu.edu.tw/web/index"><i class="fa d-inline fa-lg fa-bookmark-o"></i> NXG</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="http://nxg.ee.ntu.edu.tw/web/contact" id="contacts"><i class="fa d-inline fa-lg fa-envelope-o"></i> Contacts</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="py-5 text-center opaque-overlay" style="background-image: url(&quot;http://www.clydefitchreport.com/wp-content/uploads/2016/12/cute-cat-images-tpevent-17.jpg&quot;);">
    <div class="container py-5">
      <div class="row">
        <div class="col-md-12 text-white">
          <h1 class="mb-4 text-dark display-4">Demo for IoT course</h1>
          <p class="mb-5 text-center lead text-dark">This is a simple demo for cat project</p>
          <a href="http://nxg.ee.ntu.edu.tw/web/index" class="btn btn-lg mx-1 btn-primary">NTU X IoT</a>
        </div>
      </div>
    </div>
    <div class="container py-5">
      <div class="row"></div>
      <div class="row"></div>
      <div class="row"></div>
    </div>
  </div>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 class="">Cat Project</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <img class="img-fluid d-block w-100 img-thumbnail" src="https://i.imgur.com/w4VUtqv.png"> </div>
      </div>
      <div class="row mb-5">
        <div class="col-md-5 align-self-center"> </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <h1>
            <font size="10"><b><br>Real time information&nbsp;</b></font>
          </h1>
        </div>
      </div>
      <div class="row">
        <div class="col-md-10">
          <p> </p>
          <div class="row">
            <div class="col-md-6">
              <blockquote id="block1">
                <p>
                  <font size="8">Kitty litter box</font>
                </p>
                <footer>
                  <font id="temp" size="3">Temperature:</font>
                  <br> </footer>
                <footer>
                  <font id="hum" size="3">Humidity: </font>
                  <br> </footer>
                <footer>
                  <font id="change" size="3">Change: </font>
                  <br> </footer>
                <button id="button" class="btn btn-primary">Clean</button
              </blockquote>
              <blockquote id="block1">
                <p>
                  <font size="8">Cat location</font>
                </p>
                <footer>
                  <font size="3" id="home">At home:</font>
                  <br> </footer>
                <footer>
                  <font size="3" id="room">Room: </font>
                  <br> </footer>
              </blockquote>
              <blockquote id="block2"></blockquote>
            </div>
          </div>
          <div class="col-md-6">
            <blockquote id="block1"></blockquote>
          </div>
          <div class="col-md-6">
            <blockquote id="block2"></blockquote>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="container"> </div>
  </div>
  <div class="bg-dark text-white">
    <div class="container">
      <div class="row">
        <div class="p-4 col-md-3">
          <h2 class="mb-4 text-secondary" href="http://www.ntu.edu.tw/english/index.html">NTU</h2>
          <img class="img-fluid d-block mb-4 w-100 img-thumbnail" src="https://i.imgur.com/mjW0UWK.png" href="http://www.ntu.edu.tw/english/index.html">
          <p>National Taiwan University is a national university in Taipei City, Taiwan. Considered the most prestigious university in Taiwan and one of the top ranked universities in the world, it consists of 11 colleges, 54 departments, 107 graduate institutes
            and four research centers.</p>
        </div>
        <div class="p-4 col-md-3">
          <h2 class="mb-4 text-secondary">NXG</h2>
          <img class="img-fluid d-block mb-4 w-100 img-thumbnail" src="https://i.imgur.com/RhqirhA.jpg">
          <p>Our Lab had been established from February in 2008, and we focus on the next generation’s core technology and the application’s research. The field we pay attention on include: (1) IoT, (2) DSA, (3) Fog-computing and (4) Omni-eyes. </p>
        </div>
        <div class="p-4 col-md-6">
          <h2 class="mb-4">Contact</h2>
          <a href="https://www.google.it/maps/place/Universit%C3%A0+Nazionale+di+Taiwan/@25.0173405,121.5375631,17z/data=!3m1!4b1!4m5!3m4!1s0x3442a989fe322ea9:0x21750404ee1d7f66!8m2!3d25.0173405!4d121.5397518?hl=it" class="text-white" target="_blank"><i class="fa d-inline mr-3 fa-map-marker text-secondary"></i>NTU</a>
          <p>Address:&nbsp;
            <br>National Taiwan University EE 550 room No. 1, Sec. 4, Roosevelt Rd., Taipei 10617, Taiwan (R.O.C.)</p>
          <p>Phone:
            <br>(02)3366-3366</p>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 mt-3">
          <p class="text-center text-white">© Copyright 2017 &nbsp;- All rights reserved. Designed by Danny.</p>
        </div>
      </div>
    </div>
  </div>
</body>

</html>
